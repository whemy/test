<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta http-equiv="Cache-Control" content="no-siteapp">
	<title></title>
	<meta name="keywords" content="关键字">
	<meta name="description" content="描述">
	<meta name="renderer" content="webkit">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="format-detection" content="telphone=no, email=no">
</head>
<body>
	<div class="divInput">
		<input type="text" value="" class="input" maxlength="5">
	</div>
	<script src="http://apps.bdimg.com/libs/jquery/1.11.1/jquery.min.js" type="text/javascript"></script>
	<script type="text/javascript">
		$(function() {
			/*$('.divInput').on('input', '.input', function(event) {
				event.preventDefault();
				// console.log('....');
				if ($(this).val().length < 5) {console.log('xxx');return false;}
				if($(this).val() != '' && $(this).val() != undefined && $(this).val().length >= 5){
					var a = $(this).val().substring(0,1),b = $(this).val().substring(1);
					$(this).on('focus',$(this), function(event) {
						event.preventDefault();
						console.log('111');
						// if($(this).val().match(/\-/)){
							console.log('-----');
							$(this).val(a+b);
							return false;
						// }
					});
				}
				console.log(a,b,$(this).val().length)
				$(this).val(a+'-'+b);
			});*/
			$('.divInput .input').blur(function(event) {
				event.preventDefault();
				console.log('blur');
				var val = $(this).val(),length = val.length,a = val.substring(0, 1),b = val.substring(1);
				if (val != '' && val != undefined && length >= 5) {
					if (!val.match(/\-{1,}/)) {
						$(this).val(a+'-'+b);
					}
				}
				if(length<5){return false;}
			});
			$('.divInput .input').focus(function(event){
				event.preventDefault();
				console.log('focus');
				// if (val == '') { return false; }
				var val = $(this).val(),length = val.length,a = val.substring(0, 1),b = val.substring(2);
				if (val != '' && val != undefined && length >= 5) {
					// if (val.match(/\-{1,}/)) {
						$(this).val(a+b);
					// }
				}
				if(length<5){return false;}
			});
		});
	</script>
</body>
</html>