<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta http-equiv="Cache-Control" content="no-siteapp">
	<title>修改密码</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta http-equiv="pragma" content="no-cache">
	<meta http-equiv="Cache-Control" content="no-store, must-revalidate">
	<meta http-equiv="expires" content="0">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-touch-fullscreen" content="yes">
	<meta name="format-detection" content="telephone=no,email=no,adress=no">
	<link rel="stylesheet" href="../css/app_base.css">
	<link rel="stylesheet" href="../css/appCar_style.css">
	<link rel="stylesheet" href="../css/cepfont/cepIconfont.css">
	<script src="../js/jquery-1.11.3.min.js" type="text/javascript"></script>
</head>
<body class="bgc-f3f3f3">
	<!-- header S -->
	<div class="head-com" style="">
		<div class="head-comMain">
			<div class="head-comDiv"><a href="javascript:history.go(-1);"><i class="icon-zuojiantou r180"></i></a></div>
			<h1 class="head-comH">修改密码</h1>
			<div class="head-comDiv"><a href=""></a></div>
		</div>
		<div style="height: 40px;"></div>
	</div>
	<!-- header E -->
	<div class="h-main person_set mt10">
		<div class="h-box">
			<ul class="c-listUI bgc-white psw_set">
				<li class="c-black">
					<a class="df bpcenter">
						<strong class="list-s">当前密码</strong><span class="df-box list-name"><input type="password" data-pattern="password" data-label="#psw-1" data-type="p1" id="oldPsw" maxlength="16"></span>
					<p class="c-main ar psw_arror" id="psw-1">请输入6-16位密码</p>
					</a>
				</li>
				<li class="c-black">
					<a class="df bpcenter">
						<strong class="list-s">新密码</strong><span class="df-box list-name"><input type="password" data-pattern="password" data-label="#psw-2" data-type="p2" id="newPsw1" maxlength="16"></span>
					</a>
					<p class="c-main ar psw_arror" id="psw-2">请输入6-16位密码</p>
				</li>
				<li class="c-black">
					<a class="df bpcenter">
						<strong class="list-s">确认密码</strong><span class="df-box list-name"><input type="password" data-pattern="password" data-label="#psw-3" data-type="p3" id="newPsw2" maxlength="16"></span>
					</a>
				</li>
			</ul>
			<p class="c-main ar mt10 psw_arror" id="psw-3" style="margin-right: 17px;position: static;">确认密码与新密码不一致，请重新输入</p>
		</div>
	</div>
	<div class="c-btn btn-main ac" style="margin-top: 28px;" id="psw_save">保存</div>
	<script src="../js/wx/base.js" type="text/javascript"></script>
	<script type="text/javascript">
		function chkForm(){
			var arr = [{sel: '#oldPsw'},{sel: '#newPsw1'},{sel: '#newPsw2'}],flag;
			if($('#psw_save').is('.disabled')){
				return false;
			}else{
				flag = cep.chkForm(arr);
				if(flag){
					if($(arr[0].sel).val() == $(arr[1].sel).val()){
						alert('新密码不能与旧密码相同！');
						return false;
					}
					$(this).addClass('disabled').html('正在保存...');
					Toast.loading('show','正在保存...')
				}
				return flag;
			}
		}
		//验证单项
		var sel_obj = {
			"p1": "#oldPsw",
			"p2": "#newPsw1",
			"p3": "#newPsw2"
		};
		function chgChkByType(type){
			var sel = sel_obj[type];
			var arr = [{
				sel: sel
			}],
				param = {};
			var flag = cep.chkForm(arr);
		}
		;(function($,window){
			formChk.pwdSelectors = ['#newPsw1','#newPsw2'];
			// change
			$('.psw_set ul li').find('input').change(function(){
				chgChkByType($(this).data('type'));
			});
			$('#psw_save').on('click blur',function(){
				chkForm();
			});
		})(jQuery,window);
	</script>
</body>
</html>